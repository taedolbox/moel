/* static/styles.css */

/* 달력 전체를 감싸는 컨테이너의 스타일 */
.calendar-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    min-width: 280px;
    max-width: 300px;
    margin: 0 auto;
}

/* 요일 헤더를 위한 스타일 */
.weekday-header-row {
    display: grid;
    grid-template-columns: repeat(7, 1fr); /* 7개의 동일한 너비 열 */
    width: 100%;
    max-width: 280px; /* 달력 너비와 일치 */
    margin-bottom: 5px;
}

.day-header {
    text-align: center;
    font-weight: bold;
    padding: 5px 0;
}

/* 달력 날짜 그리드를 위한 스타일 */
.calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr); /* 7개의 동일한 너비 열 */
    gap: 2px; /* 그리드 항목 사이의 간격 */
    width: 100%;
    max-width: 280px; /* 달력 너비와 일치 */
    background-color: #ffffff;
    overflow: hidden;
}

/* 개별 날짜 컨테이너의 스타일 */
.calendar-day-container {
    position: relative;
    width: 100%; /* 부모 그리드 셀에 맞춰 100% 너비 */
    padding-bottom: 100%; /* 1:1 비율을 유지하여 정사각형 만듦 */
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    background-color: #ffffff; /* 기본 배경색 */
}

/* 실제 날짜 숫자 상자 (st.button에 적용될 스타일) */
div[data-testid="column"] > button { /* Streamlit button을 직접 타겟팅 */
    width: 35px !important;
    height: 35px !important;
    min-width: 35px !important;
    min-height: 35px !important;
    border-radius: 50% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 0 !important;
    margin: 0 auto !important; /* 컬럼 내에서 버튼 가운데 정렬 */
    border: 1px solid #333; /* 기본 테두리 */
    background-color: #ffffff; /* 기본 배경색 */
    color: #000000; /* 기본 글자색 */
    font-size: 1.1em; /* 기본 글꼴 크기 */
    line-height: 1; /* 텍스트 수직 정렬 */
}

/* 날짜 박스 호버 시 스타일 */
div[data-testid="column"] > button:hover {
    background-color: #e0e0e0 !important;
}

/* 선택된 날짜의 스타일 */
div[data-testid="column"] > button.selected-day {
    background-color: #4CAF50 !important;
    color: #ffffff !important;
    border: 2px solid #4CAF50 !important;
}

/* 선택된 날짜 호버 시 스타일 */
div[data-testid="column"] > button.selected-day:hover {
    background-color: #45a049 !important; /* 선택된 버튼 호버 시 더 어두운 녹색 */
}

/* 현재 날짜의 스타일 (선택되지 않은 경우) */
div[data-testid="column"] > button.current-day:not(.selected-day) {
    border: 2px solid blue !important;
}

/* 비활성화된 날짜의 스타일 */
.calendar-day-box.disabled-day { /* 이는 st.markdown으로 렌더링될 텍스트에 적용 */
    border: 1px solid #555;
    background-color: #e0e0e0;
    color: #666 !important;
    cursor: not-allowed;
    width: 35px; /* 크기 맞춤 */
    height: 35px; /* 크기 맞춤 */
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-size: 1.1em;
    margin: 0 auto;
}

/* 비활성화된 Streamlit 버튼의 스타일 */
div[data-testid="column"] > button[disabled] {
    border: 1px solid #555 !important;
    background-color: #e0e0e0 !important;
    color: #666 !important;
    cursor: not-allowed !important;
}

/* 모바일 뷰에 대한 조정 */
@media (max-width: 700px) {
    .calendar-wrapper {
        min-width: unset; /* 더 이상 고정된 최소 너비는 필요 없음 */
        max-width: 100%; /* 전체 너비를 유동적으로 사용 */
    }

    .weekday-header-row,
    .calendar-grid {
        max-width: 100%; /* 모바일에서 가득 채우도록 */
        grid-template-columns: repeat(7, 1fr); /* 7열 유지, 각 열은 동일한 비율로 확장 */
    }

    div[data-testid="column"] {
        flex-basis: 100% !important; /* 이 규칙은 주로 st.columns의 개별 컬럼에 영향을 주지만,
                                         달력 날짜 셀은 직접 그리드에 배치되므로 덜 중요함 */
        max-width: 100% !important; /* 모바일에서 컬럼이 스택되지 않도록 */
        padding: 0 !important;
        margin: 0 !important;
    }

    div[data-testid="column"] > button {
        width: 35px !important;
        height: 35px !important;
        min-width: 35px !important;
        min-height: 35px !important;
        font-size: 0.9em !important; /* 모바일에서 글꼴 크기 약간 줄임 */
    }

    .calendar-day-box.disabled-day {
        width: 35px;
        height: 35px;
        font-size: 0.9em;
    }
}
