/* static/styles.css */

/* 달력 전체를 감싸는 컨테이너 */
.calendar-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    min-width: 280px; /* 달력 전체의 최소 너비 */
    max-width: 300px; /* 달력 전체의 최대 너비 */
    margin: 0 auto;
}

/* Streamlit 컬럼(요일 및 날짜)을 7열로 강제 고정 */
/* 이 부분이 가장 중요합니다. Streamlit의 기본 반응형 동작을 재정의합니다. */
div[data-testid="column"] {
    /* flex-basis와 max-width를 14.285% (1/7)로 강제하여 7개 열이 한 줄에 오도록 합니다. */
    /* 단, 7개 열에 padding/gap이 모두 포함되어야 하므로 실제로는 약간 작게 설정하거나, */
    /* 부모 컨테이너의 너비에 맞춰 조정해야 합니다. */
    flex-basis: calc(100% / 7) !important; /* 각 컬럼이 전체 너비의 1/7을 차지하도록 강제 */
    max-width: calc(100% / 7) !important;   /* 각 컬럼의 최대 너비도 1/7로 강제 */
    display: flex !important;               /* 플렉스박스 사용 */
    flex-direction: column !important;      /* 컬럼 내 요소는 세로로 쌓이도록 (기본) */
    align-items: center !important;         /* 컬럼 내 요소 가운데 정렬 */
    justify-content: center !important;     /* 컬럼 내 요소 가운데 정렬 */
    padding: 2px !important;                /* 컬럼 내부 패딩 (간격 조절) */
    margin: 0 !important;                   /* 기본 마진 제거 */
    box-sizing: border-box !important;      /* 패딩과 테두리를 너비에 포함 */
}

/* 요일 헤더 텍스트 */
.day-header {
    text-align: center;
    font-weight: bold;
    padding: 5px 0;
    font-size: 0.9em;
    width: 100%; /* 요일 텍스트도 컬럼 내에서 꽉 차도록 */
}

/* Streamlit 버튼에 대한 기본 스타일 및 날짜 박스 역할 */
div[data-testid="column"] > button {
    width: 35px !important;              /* 고정 너비 강제 */
    height: 35px !important;             /* 고정 높이 강제 */
    min-width: 35px !important;          /* 최소 너비 강제 */
    min-height: 35px !important;         /* 최소 높이 강제 */
    border-radius: 50% !important;       /* 원형으로 만듦 */
    display: flex !important;            /* 플렉스박스 강제 */
    align-items: center !important;      /* 내용 수직 가운데 정렬 */
    justify-content: center !important;  /* 내용 수평 가운데 정렬 */
    padding: 0 !important;               /* 패딩 제거 */
    margin: 0 auto !important;           /* 컬럼 내에서 버튼 가운데 정렬 */
    border: 1px solid #333 !important;   /* 테두리 강제 */
    background-color: #ffffff !important;/* 배경색 강제 */
    color: #000000 !important;           /* 글자색 강제 */
    font-size: 1.1em !important;         /* 글꼴 크기 강제 */
    line-height: 1 !important;           /* 텍스트 수직 정렬 */
}

/* 날짜 박스 호버 시 스타일 */
div[data-testid="column"] > button:hover {
    background-color: #e0e0e0 !important;
}

/* 선택된 날짜의 스타일 */
div[data-testid="column"] > button.selected-day {
    background-color: #4CAF50 !important;
    color: #ffffff !important;
    border: 2px solid #4CAF50 !important;
}

/* 선택된 날짜 호버 시 스타일 */
div[data-testid="column"] > button.selected-day:hover {
    background-color: #45a049 !important;
}

/* 현재 날짜의 스타일 (선택되지 않은 경우) */
div[data-testid="column"] > button.current-day:not(.selected-day) {
    border: 2px solid blue !important;
}

/* 비활성화된 날짜 스타일 (클릭 불가능한 날짜 텍스트 - st.markdown으로 렌더링될 때) */
.calendar-day-box.disabled-day {
    border: 1px solid #555 !important;
    background-color: #e0e0e0 !important;
    color: #666 !important;
    cursor: not-allowed !important;
    width: 35px !important;
    height: 35px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 50% !important;
    font-size: 1.1em !important;
    margin: 0 auto !important;
}

/* 비활성화된 Streamlit 버튼의 스타일 */
div[data-testid="column"] > button[disabled] {
    border: 1px solid #555 !important;
    background-color: #e0e0e0 !important;
    color: #666 !important;
    cursor: not-allowed !important;
}

/* --- 미디어 쿼리 (모바일 환경에 대한 추가 조정) --- */
@media (max-width: 700px) {
    /* 모바일에서 달력 래퍼의 최대 너비를 유동적으로 설정 */
    .calendar-wrapper {
        max-width: 100% !important;
        min-width: unset !important; /* 모바일에서 최소 너비 제한 해제 */
    }

    /* Streamlit 컬럼을 모바일에서도 7열로 강제 유지 */
    div[data-testid="column"] {
        flex-basis: calc(100% / 7) !important;
        max-width: calc(100% / 7) !important;
        padding: 1px !important; /* 모바일에서는 패딩을 약간 줄여서 공간 확보 */
    }

    /* 모바일에서 버튼 크기 및 글꼴 조정 (필요시) */
    div[data-testid="column"] > button {
        width: 32px !important; /* 모바일에서 버튼 크기 약간 줄임 */
        height: 32px !important;
        min-width: 32px !important;
        min-height: 32px !important;
        font-size: 0.85em !important; /* 모바일에서 글꼴 크기 약간 줄임 */
    }

    .calendar-day-box.disabled-day {
        width: 32px !important;
        height: 32px !important;
        font-size: 0.85em !important;
    }
}
